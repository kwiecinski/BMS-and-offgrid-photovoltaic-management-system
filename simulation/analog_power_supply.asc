Version 4
SHEET 1 1640 696
WIRE 128 -304 48 -304
WIRE 352 -304 128 -304
WIRE 528 -304 352 -304
WIRE 576 -304 528 -304
WIRE 992 -304 672 -304
WIRE 1152 -304 992 -304
WIRE 1264 -304 1152 -304
WIRE 1360 -304 1264 -304
WIRE 352 -288 352 -304
WIRE -928 -224 -928 -288
WIRE -640 -224 -640 -288
WIRE -480 -224 -480 -288
WIRE 528 -192 528 -304
WIRE 624 -192 624 -240
WIRE 208 -176 128 -176
WIRE 208 -160 208 -176
WIRE 288 -160 208 -160
WIRE -736 -144 -928 -144
WIRE -640 -144 -736 -144
WIRE -480 -144 -640 -144
WIRE -640 -128 -640 -144
WIRE 208 -128 208 -160
WIRE 992 -128 992 -304
WIRE 1152 -128 1152 -304
WIRE -736 -112 -736 -144
WIRE 352 -48 352 -112
WIRE 576 -48 576 -128
WIRE 576 -48 352 -48
WIRE 208 -16 208 -48
WIRE 1264 -16 1264 -304
WIRE 768 0 640 0
WIRE 992 0 992 -48
WIRE 1152 0 1152 -64
WIRE 1152 0 992 0
WIRE -640 16 -640 -48
WIRE 464 32 272 32
WIRE 992 48 992 0
WIRE 1104 48 992 48
WIRE 992 112 992 48
WIRE 1264 112 1264 64
WIRE 1264 112 1200 112
WIRE 640 128 640 0
WIRE 1264 144 1264 112
WIRE 1104 160 1104 48
WIRE 464 208 464 32
WIRE 640 208 464 208
WIRE 832 224 784 224
WIRE 928 224 896 224
WIRE 992 240 992 192
WIRE 1264 272 1264 224
WIRE 400 304 368 304
WIRE 496 304 464 304
WIRE 864 400 864 352
WIRE 416 416 192 416
WIRE 928 416 928 224
WIRE 928 416 896 416
WIRE 1104 416 1104 240
WIRE 1104 416 928 416
WIRE 192 432 192 416
WIRE 496 432 496 304
WIRE 496 432 480 432
WIRE 512 432 496 432
WIRE 640 432 640 208
WIRE 640 432 576 432
WIRE 720 432 640 432
WIRE 784 432 784 224
WIRE 832 432 784 432
WIRE 368 448 368 304
WIRE 416 448 368 448
WIRE 992 448 896 448
WIRE 992 496 992 448
WIRE 864 512 864 464
WIRE 368 688 368 448
WIRE 1200 688 1200 112
WIRE 1200 688 368 688
FLAG -736 -112 0
FLAG -640 16 -5V
FLAG -640 -288 +12v
FLAG 992 240 0
FLAG 1264 272 0
FLAG 1360 -304 Vout
FLAG 864 352 +12V
FLAG 864 512 -5V
FLAG 992 576 0
FLAG -480 -288 +50V
FLAG 48 -304 +50V
FLAG 576 32 0
FLAG 448 400 -5V
FLAG 448 464 +12V
FLAG 192 512 0
FLAG 768 80 0
FLAG 208 160 0
SYMBOL voltage -640 -240 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
WINDOW 0 39 35 Left 2
WINDOW 3 37 57 Left 2
SYMATTR InstName V1
SYMATTR Value 12
SYMBOL voltage -640 -144 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
WINDOW 0 40 44 Left 2
WINDOW 3 39 64 Left 2
SYMATTR InstName V2
SYMATTR Value 5
SYMBOL voltage 192 416 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName VREF
SYMATTR Value 2
SYMBOL res 976 -144 R0
SYMATTR InstName R2
SYMATTR Value 20R
SYMBOL res 1248 -32 R0
SYMATTR InstName R3
SYMATTR Value 9k
SYMBOL res 1248 128 R0
SYMATTR InstName R4
SYMATTR Value 1k
SYMBOL voltage -480 -240 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V4
SYMATTR Value 50
SYMBOL cap 1136 -128 R0
SYMATTR InstName C2
SYMATTR Value 100µ
SYMBOL res 976 96 R0
SYMATTR InstName R6
SYMATTR Value 1
SYMBOL res 1088 144 R0
SYMATTR InstName R8
SYMATTR Value 1
SYMBOL voltage 992 480 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V5
SYMATTR Value 10
SYMBOL OpAmps\\OP07 864 368 M0
SYMATTR InstName U1
SYMBOL cap 896 208 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C1
SYMATTR Value 1p
SYMBOL npn 576 -240 R270
SYMATTR InstName Q2
SYMATTR Value ZTX1048A
SYMBOL npn 528 -128 R270
SYMATTR InstName Q3
SYMATTR Value ZTX1048A
SYMBOL res 592 48 R180
WINDOW 0 36 76 Left 2
WINDOW 3 36 40 Left 2
SYMATTR InstName R1
SYMATTR Value 100k
SYMBOL pnp 288 -112 M180
SYMATTR InstName Q1
SYMATTR Value BC807-25
SYMBOL res 192 -144 R0
SYMATTR InstName R9
SYMATTR Value 1k
SYMBOL npn 272 -16 M0
SYMATTR InstName Q4
SYMATTR Value BC847A
SYMBOL OpAmps\\OP07 448 496 M180
SYMATTR InstName U2
SYMBOL diode 576 416 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName D1
SYMATTR Value 1N4148
SYMBOL diode 720 448 R270
WINDOW 0 32 32 VTop 2
WINDOW 3 0 32 VBottom 2
SYMATTR InstName D2
SYMATTR Value 1N4148
SYMBOL res 624 112 R0
SYMATTR InstName R10
SYMATTR Value 1k
SYMBOL voltage 768 -16 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V3
SYMATTR Value 5V
SYMBOL res 368 -192 R180
WINDOW 0 36 76 Left 2
WINDOW 3 36 40 Left 2
SYMATTR InstName R7
SYMATTR Value 1k
SYMBOL res 192 64 R0
SYMATTR InstName R12
SYMATTR Value 220R
SYMBOL diode 112 -304 R0
SYMATTR InstName D3
SYMATTR Value 1N4148
SYMBOL diode 112 -240 R0
SYMATTR InstName D4
SYMATTR Value 1N4148
SYMBOL cap 464 288 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C3
SYMATTR Value 10n
TEXT -320 360 Left 2 !.tran 0 50m 100n
TEXT 1432 248 Left 2 !.include tl071.sub
